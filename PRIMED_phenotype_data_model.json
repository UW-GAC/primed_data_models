{
  "name": "PRIMED Phenotype Data Model",
  "description": "Data model for phenotype data in the PRIMED consortium",
  "version": "0.1.4",
  "tables": [
    {
      "table": "subject",
      "required": true,
      "columns": [
        {
          "column": "subject_id",
          "primary_key": true,
          "required": true,
          "description": "subject/participant Identifier within project",
          "data_type": "string"
        },
        {
          "column": "dbgap_subject_id",
          "description": "subject identifier used by dbGaP (if available)",
          "data_type": "string"
        },
        {
          "column": "consent_code",
          "required": true,
          "description": "consent abbreviation (https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4721915/table/pgen.1005772.t001/?report=objectonly)",
          "data_type": "string"
        },
        {
          "column": "study_nickname",
          "required": true,
          "description": "short name for study as defined by CC",
          "data_type": "string"
        },
        {
          "column": "dbgap_submission",
          "description": "flag if subject has been submitted to dbGaP",
          "data_type": "boolean",
          "examples": ["TRUE", "FALSE"]
        },
        {
          "column": "dbgap_study_id",
          "description": "PHS ID for study",
          "data_type": "string"
        },
        {
          "column": "reported_sex",
          "required": true,
          "description": "reported sex",
          "data_type": "enumeration",
          "enumerations": ["Female", "Male", "Other"],
          "notes": "use 'NA' for unknown"
        }
      ]
    },
    {
      "table": "population_descriptor",
      "required": true,
      "columns": [
        {
          "column": "population_descriptor_id",
          "primary_key": true,
          "data_type": "string",
          "references": "from: subject_id, population_descriptor, population_label"
        },
        {
          "column": "subject_id",
          "required": true,
          "data_type": "string",
          "references": "> subject.subject_id",
          "notes": "overlap with omop-person"
        },
        {
          "column": "population_descriptor",
          "required": true,
          "description": "a concept or classification scheme that categorizes people into groups (or “populations”) according to a perceived characteristic or dimension of interest",
          "data_type": "string",
          "multi_value_delimiter": "|",
          "examples": "Race | Race | Ethnicity",
          "notes": "delimited list (delim is '|'). race and ethnicity info are in the omop-person table"
        },
        {
          "column": "population_label",
          "required": true,
          "description": "name given to a population that describes or classifies it according to the dimension along which it was identified",
          "data_type": "string",
          "multi_value_delimiter": "|",
          "examples": "Black | Asian | Not Hispanic",
          "notes": "delimited list same length as population_descriptor (delim is '|')"
        },
        {
          "column": "country_of_recruitment",
          "data_type": "string",
          "examples": "USA"
        },
        {
          "column": "country_of_birth",
          "data_type": "string",
          "examples": "USA"
        }
      ]
    },
    {
      "table": "population_descriptor_dataset",
      "required": true,
      "columns": [
        {
          "column": "population_descriptor_dataset_id",
          "primary_key": true,
          "data_type": "string",
          "references": "from: pop_desc_data_file_path"
        },
        {
          "column": "study_nickname",
          "required": true,
          "description": "short name for study",
          "data_type": "string",
          "examples": "HPFS"
        },
        {
          "column": "pop_desc_data_file_path",
          "required": true,
          "description": "file path to data file in cloud storage",
          "data_type": "string",
          "examples": "gs://blah/blah/HPFS_PopDesc_Data_20220625.txt"
        },
        {
          "column": "pop_desc_dd_file_path",
          "required": true,
          "description": "file path to data dictionary in cloud storage",
          "data_type": "string",
          "examples": "gs://blah/blah/HPFS_PopDesc_DD_20220625.txt",
          "notes": "Recommended columns for the data dictionary: var_name description values (delimited list) - if values are encoded, list them here (e.g. 1;2;3;4;5;6;7;8;999) labels (delimited list) - if values are encoded, list their meanings here (e.g. Southern European/Mediterranean;Scandanavian;Other Caucasian;African American;Hispanic;Asian;Native American;Other;Missing) source (e.g. 1992 questionnaire)"
        }
      ]
    },
    {
      "table": "study_design",
      "columns": [
        {
          "column": "study_design_id",
          "primary_key": true,
          "required": true,
          "data_type": "string",
          "notes": "autogenerated unique id"
        },
        {
          "column": "subject_id",
          "required": true,
          "description": "the PRIMED subject id",
          "data_type": "string",
          "references": "> subject.subject_id",
          "notes": "references subject_id in subject table"
        },
        {
          "column": "study_cohort",
          "description": "a distinct subgroup within a study often related to study design",
          "data_type": "string"
        }
      ]
    },
    {
      "table": "pheno_pilot",
      "columns": [
        {
          "column": "pheno_pilot_id",
          "primary_key": true,
          "data_type": "string",
          "references": "from: subject_id, age_at_observation",
          "notes": "auto-generated by CC using subject_id and age"
        },
        {
          "column": "subject_id",
          "required": true,
          "description": "the PRIMED subject id",
          "data_type": "string",
          "references": "> subject.subject_id",
          "notes": "references subject_id in subject table"
        },
        {
          "column": "age_at_observation",
          "required": true,
          "description": "the age at which the observation or measurement for the phenotype of interest was taken",
          "data_type": "float",
          "examples": "56.2"
        },
        {
          "column": "visit",
          "required": false,
          "description": "indicator of visit number since participant/patient enrollment",
          "data_type": "string",
          "examples": "visit_5"
        },
        {
          "column": "height",
          "required": false,
          "description": "height measurement at baseline visit",
          "data_type": "float",
          "examples": "66.5"
        },
        {
          "column": "weight",
          "required": false,
          "description": "weight measurement at baseline visit",
          "data_type": "float",
          "examples": "175.3"
        },
        {
          "column": "bmi",
          "required": false,
          "description": "bmi measurement at baseline visit",
          "data_type": "float",
          "examples": "22.2"
        },
        {
          "column": "chd",
          "required": false,
          "description": "indicator of prevalent or incident coronary heart disease event",
          "data_type": "enumeration",
          "enumerations": ["0", "1"],
          "examples": "1",
          "notes": "includes self-report and adjudicated"
        },
        {
          "column": "ldl",
          "required": false,
          "description": "low-protein lipoprotein measurement at baseline",
          "data_type": "float",
          "examples": "101.3"
        },
        {
          "column": "ldl_medication",
          "required": false,
          "description": "indicator of LDL medication use",
          "data_type": "enumeration",
          "enumerations": ["0", "1"],
          "examples": "0"
        }
      ]
    },
    {
      "table": "pheno_simulation",
      "columns": [
        {
          "column": "pheno_simulation_id",
          "primary_key": true,
          "required": true,
          "data_type": "string",
          "notes": "must be unique"
        },
        {
          "column": "subject_id",
          "required": true,
          "description": "the PRIMED subject id",
          "data_type": "string",
          "references": "> subject.subject_id",
          "notes": "references subject_id in subject table"
        }
      ]
    },
    {
      "table": "pheno_unharmonized",
      "columns": [
        {
          "column": "pheno_unharmonized_id",
          "primary_key": true,
          "required": true,
          "data_type": "string",
          "notes": "must be unique (e.g. 1:N)"
        },
        {
          "column": "subject_id",
          "required": true,
          "description": "the PRIMED subject id",
          "data_type": "string",
          "references": "> subject.subject_id",
          "notes": "references subject_id in subject table"
        }
      ]
    }
  ]
}
