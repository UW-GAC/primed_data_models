{
  "name": "PRIMED Phenotype Data Model",
  "description": "Data model for phenotype data in the PRIMED consortium",
  "version": "0.2.0",
  "tables": [
    {
      "table": "subject",
      "required": true,
      "columns": [
        {
          "column": "subject_id",
          "primary_key": true,
          "required": true,
          "description": "subject/participant Identifier within project",
          "data_type": "string"
        },
        {
          "column": "dbgap_subject_id",
          "description": "subject identifier used by dbGaP (if available)",
          "data_type": "string"
        },
        {
          "column": "consent_code",
          "required": true,
          "description": "consent abbreviation (https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4721915/table/pgen.1005772.t001/?report=objectonly)",
          "data_type": "string",
          "examples": ["GRU", "HMB-IRB"]
        },
        {
          "column": "study_nickname",
          "required": true,
          "description": "short name for study as defined by CC",
          "data_type": "string",
          "examples": ["UKBB", "JHS", "ARIC"]
        },
        {
          "column": "dbgap_submission",
          "description": "flag if subject has been submitted to dbGaP",
          "data_type": "boolean",
          "examples": ["TRUE", "FALSE"]
        },
        {
          "column": "dbgap_study_id",
          "description": "PHS ID for study",
          "data_type": "string"
        },
        {
          "column": "reported_sex",
          "required": true,
          "description": "reported sex",
          "data_type": "enumeration",
          "enumerations": ["Female", "Male", "Other", "Unknown"]
        }
      ]
    },
    {
      "table": "population_descriptor",
      "required": true,
      "columns": [
        {
          "column": "population_descriptor_id",
          "primary_key": true,
          "data_type": "string",
          "references": "from: subject_id, population_descriptor, population_label"
        },
        {
          "column": "subject_id",
          "required": true,
          "data_type": "string",
          "references": "> subject.subject_id",
          "notes": "overlap with omop-person"
        },
        {
          "column": "population_descriptor",
          "required": true,
          "description": "a concept or classification scheme that categorizes people into groups (or “populations”) according to a perceived characteristic or dimension of interest",
          "data_type": "string",
          "multi_value_delimiter": "|",
          "examples": "Race | Race | Ethnicity",
          "notes": "delimited list (delim is '|'). race and ethnicity info are in the omop-person table"
        },
        {
          "column": "population_label",
          "required": true,
          "description": "name given to a population that describes or classifies it according to the dimension along which it was identified",
          "data_type": "string",
          "multi_value_delimiter": "|",
          "examples": "Black | Asian | Not Hispanic",
          "notes": "delimited list same length as population_descriptor (delim is '|')"
        },
        {
          "column": "country_of_recruitment",
          "data_type": "string",
          "examples": "USA"
        },
        {
          "column": "country_of_birth",
          "data_type": "string",
          "examples": "USA"
        }
      ]
    },
    {
      "table": "phenotype_harmonized",
      "columns": [
        {
          "column": "phenotype_harmonized_id",
          "primary_key": true,
          "data_type": "string",
          "references": "from: md5sum",
          "notes": "AnVIL requires entity id with naming convention <table_name>_id"
        },
        {
          "column": "domain",
          "required": true,
          "data_type": "enumeration",
          "enumerations": ["pilot", "population_descriptor"]
        },
        {
          "column": "md5sum",
          "required": true,
          "description": "md5 checksum for the file",
          "data_type": "string"
        },
        {
          "column": "file_path",
          "required": true,
          "description": "absolute file path in cloud storage",
          "data_type": "string"
        },
        {
          "column": "file_readme_path",
          "required": true,
          "description": "path to the README",
          "data_type": "string"
        },
        {
          "column": "n_subjects",
          "required": true,
          "description": "Number of unique subjects in file",
          "data_type": "integer"
        },
        {
          "column": "n_rows",
          "required": true,
          "description": "Number of rows in file (may be > n_subjects for longitudinal data)",
          "data_type": "integer"
        }
      ]
    },
    {
      "table": "pilot",
      "columns": [
        {
          "column": "subject_id",
          "primary_key": true,
          "required": true,
          "description": "the PRIMED subject id",
          "data_type": "string",
          "references": "> subject.subject_id",
          "notes": "references subject_id in subject table"
        },
        {
          "column": "age_at_observation",
          "primary_key": true,
          "required": true,
          "description": "the age at which the observation or measurement for the phenotype of interest was taken",
          "data_type": "float",
          "examples": "56.2"
        },
        {
          "column": "visit",
          "required": false,
          "description": "indicator of visit number since participant/patient enrollment",
          "data_type": "string",
          "examples": "visit_5"
        },
        {
          "column": "height",
          "required": false,
          "description": "height measurement at baseline visit",
          "data_type": "float",
          "examples": "66.5"
        },
        {
          "column": "weight",
          "required": false,
          "description": "weight measurement at baseline visit",
          "data_type": "float",
          "examples": "175.3"
        },
        {
          "column": "bmi",
          "required": false,
          "description": "bmi measurement at baseline visit",
          "data_type": "float",
          "examples": "22.2"
        },
        {
          "column": "chd",
          "required": false,
          "description": "indicator of prevalent or incident coronary heart disease event",
          "data_type": "enumeration",
          "enumerations": ["0", "1"],
          "examples": "1",
          "notes": "includes self-report and adjudicated"
        },
        {
          "column": "ldl",
          "required": false,
          "description": "low-protein lipoprotein measurement at baseline",
          "data_type": "float",
          "examples": "101.3"
        },
        {
          "column": "ldl_medication",
          "required": false,
          "description": "indicator of LDL medication use",
          "data_type": "enumeration",
          "enumerations": ["0", "1"],
          "examples": "0"
        }
      ]
    },
    {
      "table": "phenotype_unharmonized",
      "columns": [
        {
          "column": "phenotype_unharmonized_id",
          "primary_key": true,
          "data_type": "string",
          "references": "from: md5sum",
          "notes": "AnVIL requires entity id with naming convention <table_name>_id"
        },
        {
          "column": "description",
          "required": true,
          "description": "description of data in file",
          "data_type": "string",
          "examples": ["unformatted population descriptors", "study design variables", "simulated phenotypes", "unharmonized disease indicators", "unharmonized quantitative measurements"]
        },
        {
          "column": "md5sum",
          "required": true,
          "description": "md5 checksum for the file in file_path",
          "data_type": "string"
        },
        {
          "column": "file_path",
          "required": true,
          "description": "absolute file path in cloud storage",
          "data_type": "string"
        },
        {
          "column": "file_dd_path",
          "required": true,
          "description": "path to the data dictionary",
          "data_type": "string"
        },
        {
          "column": "n_subjects",
          "required": true,
          "description": "Number of unique subjects in file",
          "data_type": "integer"
        },
        {
          "column": "n_rows",
          "required": true,
          "description": "Number of rows in file (may be > n_subjects for longitudinal data)",
          "data_type": "integer"
        }
      ]
    }
  ]
}
